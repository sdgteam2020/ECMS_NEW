@model IEnumerable<DTOProfileDataRequest>
<link rel="stylesheet" href="~/lib/bootstrap/dist/assets/plugin/datatables/responsive.dataTables.min.css">
<link rel="stylesheet" href="~/lib/bootstrap/dist/assets/plugin/datatables/dataTables.bootstrap5.min.css">
<div class="row align-items-center">
    <div class="border-0 mb-4">
        <div class="card-header py-3 no-bg bg-transparent d-flex align-items-center px-0 justify-content-between border-bottom flex-wrap">
            <h3 class="h4 mb-0">@ViewBag.Title</h3>
            <div class="col-auto d-flex w-sm-100 mt-2 mt-sm-0">
                <a asp-controller="ProfileData" asp-action="Create" class="btn btn-dark btn-set-task w-sm-100"><i class="icofont-plus-circle me-2 fs-6"></i>Add Profile</a>
            </div>
        </div>
    </div>
</div> <!-- Row end  -->
<div class="row clearfix g-3">
    <div class="col-sm-12">
        <div class="card mb-3">
            <div class="card-body">
                <table id="myProjectTable" class="table table-hover align-middle mb-0" style="width:100%">
                    <thead>
                        <tr>
                            <th>@Html.DisplayNameFor(model => model.Sno)</th>
                            <th>@Html.DisplayNameFor(model => model.ArmyNumber)</th>
                            <th>@Html.DisplayNameFor(model => model.Rank)</th>
                            <th>@Html.DisplayNameFor(model => model.Name)</th>
                            <th>@Html.DisplayNameFor(model => model.Appointment)</th>
                            <th>@Html.DisplayNameFor(model => model.UnitSusNo)</th>
                            <th>@Html.DisplayNameFor(model => model.UnitName)</th>
                            <th>@Html.DisplayNameFor(model => model.InitiatingOfficerArmyNumber)</th>
                            <th>Action</th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var item in Model)
                        {
                            <tr>
                                <td>@item.Sno</td>
                                <td>@item.ArmyNumber</td>
                                <td>@item.Rank</td>
                                <td>@item.Name</td>
                                <td>@item.Appointment</td>
                                <td>@item.UnitSusNo</td>
                                <td>@item.UnitName</td>
                                <td>@item.InitiatingOfficerArmyNumber</td>
                                <td>
                                    <a asp-controller="ProfileData" asp-action="Edit" asp-route-Id="@item.EncryptedId" class="text-primary"><i class="icofont-ui-edit fs-5"></i></a>
                                    <form method="post" asp-controller="ProfileData" asp-action="delete" asp-route-Id="@item.EncryptedId">
                                        <span id="confirmDeleteSpan_@item.ProfileDataId" style="display:none">
                                            <span>Are you sure you want to delete ?</span>
                                            <button type="submit" class="btn btn-danger">Yes</button>
                                            <a href="#" class="btn btn-primary" onclick="confirmDelete('@item.ProfileDataId',false)">No</a>
                                        </span>
                                        <span id="deleteSpan_@item.ProfileDataId">
                                            <a href="#" class="text-danger" onclick="confirmDelete('@item.ProfileDataId',true)"><i class="icofont-ui-delete fs-5"></i></a>
                                        </span>
                                    </form>
                                </td>
                            </tr>
                        }
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div><!-- Row End -->

@section Scripts{
    <script asp-src-include="~/js/CustomScript.js"></script>
    <!-- Jquery Core Js -->
@*    <script src="~/lib/bootstrap/dist/assets/bundles/libscripts.bundle.js"></script>*@

    <!-- Plugin Js-->
    <script asp-src-include="~/lib/bootstrap/dist/assets/bundles/dataTables.bundle.js"></script>
    <script>
        // project data table
        $(document).ready(function () {
            $('#myProjectTable')
                .addClass('nowrap')
                .dataTable({
                    responsive: true,
                    columnDefs: [
                        { targets: [-1, -3], className: 'dt-body-right' }
                    ]
                });
            $('.deleterow').on('click', function () {
                var tablename = $(this).closest('table').DataTable();
                tablename
                    .row($(this)
                        .parents('tr'))
                    .remove()
                    .draw();

            });
        });
    </script>
    <script>
        LoadJDTSimple('#myTable');
    </script>
}